@using Course.Models;
@model IEnumerable<Creative>

@{
    ViewBag.Title = "Search";
}

<h2>Search</h2>
<div id="searchResult" class="col-md-12">
    <h2>Results:</h2>
    <table class="table table-striped table-hover">
        @foreach (var creative in Model)
            {
            <tr class="success">
                <td>
                    @Html.DisplayFor(i => creative.Id)
                </td>
                <td>
                    @Html.ActionLink(creative.Name, "View", "User", new { id = creative.Id }, null)
                </td>
                <td>
                    @Html.DisplayFor(i => creative.ApplicationUser.Email)
                </td>

                <td>
                    @Html.DisplayFor(i => creative.LastEditTime)
                </td>
                <td>
                    @Html.DisplayFor(i => creative.Views)
                </td>
                <td>
                    <input class="itemRate" type="hidden" value="@creative.Rating" />
                </td>

                <td>
                    <div class="rateYo"></div>
                </td>

            </tr>
        }
    </table>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            
            $(".rateYo").rateYo({
                starWidth: "30px",
                halfStar: true,
                onInit: function (rating, rateYoInstance) {
                    var rate = $(this).parent().parent()
                        .find('.itemRate').val().replace(',', '.');
                    console.log("" + rate);
                    $(this).rateYo("option", "rating", rate);
                    $(this).rateYo("option", "readOnly", true);
                }
            });
        });

    </script>
}






 



